<!DOCTYPE html>
    <html lang = 'en'>

    <head>
        <meta charset = 'UTF-8'>
        <title>WeatherText</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel = "stylesheet" href = "index.css">
    </head>

    <video autoplay muted loop id = "backgroundVideo">
        <source src = "video/sky.mp4" type = "video/mp4">
    </video>

    <body>
        <!-- main elements of site -->
        <div class = "mainBox">
            <p class = "title">WeatherText<br><span class = "subtitle">Enter your phone 
                number, name, zip code and click submit (include +1) </span></p>

            <input class = "InputBox" type = "text" id = "numInput"
            placeholder = "+12345678910" size = "12" maxlength = "12" name = "numBox">

            <div style = "padding-top: 20px">
                <input class = "InputBoxName" type = "text" id = "firstNameInput"
                placeholder = "First Name" size = "10" maxlength = "20">
                    <input class = "InputBoxName" type = "text" id = "lastNameInput"
                    placeholder = "Last Name" size = "10" maxlength = "20">

                <div style = "padding-top: 20px">
                    <input class = "InputBox" type = "text" id = "zipInput"
                    placeholder = "Zip Code" size = "8" maxlength = "5" name = "zipBox">
                    <div style = "padding-top: 20px">
                        <input class = "submitButton" type = "submit" onclick = "sendInfo()" value = "Submit"></form>
            </div> 
        </div>
    </body>

    <script>

        // simple input validation
        async function sendInfo() {

            // when button is clicked, send this to the server and alert the response
            let fetchString = '/grabInfo?testSend=helloThere'
            const response = await fetch(fetchString)
            const responseText = await response.text()
            alert(responseText)
            
            /*
            let num = document.getElementById("numInput").value
            let fname = document.getElementById("firstNameInput").value
            let lname = document.getElementById("lastNameInput").value
            let zip = document.getElementById("zipInput").value

            if ((num == "") || (fname == "") || (lname == "") || (zip == "")){
                alert("One or more fields are not complete")
            } else {
                //const fetchString = "/grabInfo?number="+num+"&fname="+fname+"&lname="+lname+
                //"&zipcode="+zip
                //const response = await fetch(fetchString)
                //const responseText = await response.text()
            }*/
        }
    </script>

</html>